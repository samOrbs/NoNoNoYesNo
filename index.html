<!DOCTYPE html>
<html lang="en">
	<head>
		<title>NoNoNoYesNo</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

		<script src="http://code.jquery.com/jquery-latest.pack.js"></script>
		<script src="jquery-ui-1.9.2.custom.js"></script>
		<script src="jquery/myJquery.js"></script>

		<link rel="stylesheet" type="text/css" href="styles.css">

	</head>

	<body>

		<script src="three.js"></script> 

		<script src="js/Detector.js"></script>
		<script src="js/libs/stats.min.js"></script>

		<script src="js/shaders/BleachBypassShader.js"></script>
		<script src="js/shaders/ColorCorrectionShader.js"></script>
		<script src="js/shaders/CopyShader.js"></script>
		<script src="js/shaders/FXAAShader.js"></script>

		<script src="js/renderers/Projector.js"></script>
		<script src="js/renderers/CanvasRenderer.js"></script>

		<script src="js/postprocessing/EffectComposer.js"></script>
		<script src="js/postprocessing/RenderPass.js"></script>
		<script src="js/postprocessing/ShaderPass.js"></script>
		<script src="js/postprocessing/MaskPass.js"></script>

		<script src="js/loaders/LoadingManager.js"></script>

		<div id="load">
			<div id="loadInner">
				<p id="loadText"> LOADING </p>
			</div>
		</div>

		<div id = "tongue">

			<script>

				if ( ! Detector.webgl ) Detector.addGetWebGLMessage();

				// GLOBAL VARIABLES SOUND

				// 	Create an AudioListener and add it to the camera
				var listenerOne = new THREE.AudioListener();
				var listenerTwo = new THREE.AudioListener();
				var listenerThree = new THREE.AudioListener();
				var listenerFour = new THREE.AudioListener();
				var listenerFive = new THREE.AudioListener();

				// 	camera.add( listener )
				// 	create a global audio source
				var soundOne = new THREE.Audio( listenerOne );
				var soundTwo = new THREE.Audio( listenerTwo );
				var soundThree = new THREE.Audio( listenerThree );
				var soundFour = new THREE.Audio( listenerThree );
				var soundFive = new THREE.Audio( listenerThree );

				var audioLoaderOne = new THREE.AudioLoader( manager );
				var audioLoaderTwo = new THREE.AudioLoader( manager );
				var audioLoaderThree = new THREE.AudioLoader( manager );
				var audioLoaderFour = new THREE.AudioLoader( manager );
				var audioLoaderFive = new THREE.AudioLoader( manager );

				//	Load a sound and set it as the Audio object's buffer
				audioLoaderOne.load( 'sounds/Left.ogg', function( Abuffer ) {
					
					soundOne.setBuffer( Abuffer );						
					soundOne.setLoop(true);						
					soundOne.setVolume(1.2);						
					soundOne.play();
				
				});	
					

				audioLoaderTwo.load( 'sounds/Right.ogg', function( Bbuffer ) {
				
					soundTwo.setBuffer( Bbuffer );					
					soundTwo.setLoop(true);					
					soundTwo.setVolume(1.2);				
					soundTwo.play();
				
				});

				
				audioLoaderThree.load( 'sounds/Tounge_Amb.ogg', function( Cbuffer ) {
				
					soundThree.setBuffer( Cbuffer );					 
					soundThree.setLoop(true);					
					soundThree.setVolume(0.5); 				
					soundThree.setPlaybackRate(1); // can play here 4 is also nice
					soundThree.play();					
				
				});

				
				audioLoaderFour.load( 'sounds/noiseBursts.ogg', function( Dbuffer ) {
				
					soundFour.setBuffer( Dbuffer );						 
					soundFour.setLoop(true);					
					soundFour.setVolume(0.2); 					
					soundFour.setPlaybackRate(1); 
					soundFour.play();
				
				});


			    audioLoaderFive.load( 'sounds/pandon.ogg', function( Ebuffer ) {
				
					soundFive.setBuffer( Ebuffer );					 
					soundFive.setLoop(true);					
					soundFive.setVolume(0.01); 					
					soundFive.setPlaybackRate(1); 
					soundFive.play();
				
				});

<<<<<<< HEAD
					////////////////////

					// //Create an AudioListener and add it to the camera
					var listenerOne = new THREE.AudioListener();
					var listenerTwo = new THREE.AudioListener();
					var listenerThree = new THREE.AudioListener();
					var listenerFour = new THREE.AudioListener();
					var listenerFive = new THREE.AudioListener();
					var listenerSix = new THREE.AudioListener();
					var listenerSeven = new THREE.AudioListener();
					var listenerEight = new THREE.AudioListener();

					// // create a global audio source
					var soundOne = new THREE.Audio( listenerOne );
					var soundTwo = new THREE.Audio( listenerTwo );
					var soundThree = new THREE.Audio( listenerThree );
					var soundFour = new THREE.Audio( listenerFour );
					var soundFive = new THREE.Audio( listenerFive );
					var soundSix = new THREE.Audio( listenerSix );
					var soundSeven = new THREE.Audio( listenerSeven );
					var soundEight = new THREE.Audio( listenerEight );

					//Loaders
					var audioLoaderOne = new THREE.AudioLoader(manager);
					var audioLoaderTwo = new THREE.AudioLoader(manager);
					var audioLoaderThree = new THREE.AudioLoader(manager);
					var audioLoaderFour = new THREE.AudioLoader(manager);
					var audioLoaderFive = new THREE.AudioLoader(manager);
					var audioLoaderSix = new THREE.AudioLoader(manager);
					var audioLoaderSeven = new THREE.AudioLoader(manager);
					var audioLoaderEight = new THREE.AudioLoader(manager);

					// //Load a sound and set it as the Audio object's buffer
					audioLoaderOne.load( 'sounds/LeftFade.ogg', function( Abuffer ) {
						
					soundOne.setBuffer( Abuffer );
						
					soundOne.setLoop(true);
						
					soundOne.setVolume(2);
						
					soundOne.play();
					
					});	
						

					audioLoaderTwo.load( 'sounds/RightFade.ogg', function( Bbuffer ) {
					
					soundTwo.setBuffer( Bbuffer );
					
					soundTwo.setLoop(true);
					
					soundTwo.setVolume(2);
					
					soundTwo.play();
					
					});

					
					audioLoaderThree.load( 'sounds/Fairchild_101.ogg', function( Cbuffer ) {
					
					soundThree.setBuffer( Cbuffer );
					 
					soundThree.setLoop(true);
					
					soundThree.setVolume(0.1); 
					
					soundThree.setPlaybackRate(1); // can play here 4 is also nice

					soundThree.play();					
					
					});

					
					audioLoaderFour.load( 'sounds/pandomFades.ogg', function( Dbuffer ) {
					
					soundFour.setBuffer( Dbuffer );
					 
					soundFour.setLoop(true);
					
					soundFour.setVolume(0.01); 
					
					soundFour.setPlaybackRate(0.5); 

					soundFour.play();
					
					});


				    audioLoaderFive.load( 'sounds/Noise_1.ogg', function( Ebuffer ) {
					
					soundFive.setBuffer( Ebuffer );
					 
					soundFive.setLoop(false);
					
					soundFive.setVolume(0.5); 
					
					soundFive.setPlaybackRate(1); 

					});

					
					audioLoaderSix.load( 'sounds/Noise_2.ogg', function( Fbuffer ) {
					
					soundSix.setBuffer( Fbuffer );
					 
					soundSix.setLoop(false);
					
					soundSix.setVolume(2); 
					
					soundSix.setPlaybackRate(0.8); 

					});

					
					audioLoaderSeven.load( 'sounds/Noise_3.ogg', function( Gbuffer ) {
					
					soundSeven.setBuffer( Gbuffer );
					 
					soundSeven.setLoop(false);
					
					soundSeven.setVolume(0.8); 
					
					soundSeven.setPlaybackRate(1); 

					});


					audioLoaderEight.load( 'sounds/Noise_4.ogg', function( Hbuffer ) {
					
					soundEight.setBuffer( Hbuffer );
					 
					soundEight.setLoop(false);
					
					soundEight.setVolume(0.8); 
					
					soundEight.setPlaybackRate(1); 

					});

					///////////////////

					if ( ! Detector.webgl ) Detector.addGetWebGLMessage();
=======
				// GLOBAL VARIABLES TEXT

				var currentIndex;
				var newIndex;
>>>>>>> AnanazFrutti/master

				var str1 = "I enter the small room of the Panamerican Kitchen . It is already quite late , the kitchen is about to close . A cloud of metallic fat is hanging in the air ; fat they only use for Panamerican food when the vegan delivery had a shortage .     You immediately caught my attention . You are sitting at a small plastic table , a glass of cheap scotch and a plate with left-over heads of sucked king prawns in front of you . You are slightly bending over the table . In a permanent back and forth you are fighting with wisps of your long blond hair that permanently keep falling into your face . Push back . Fall . Push back . Fall .     I like the graceful rhythmic movements of your fingers fondling the glass panel of your phone . You seem to be far away . I make a step towards you .     Nice pic .   Intriguing romantic eyes .. sweet clever deep ... submissive but independent. A kinky mind behind those eyes. I tried to describe part of your erotic shade you have in that picture .          You giggle. Your teeth are straight . Something unusual in this city . Your hair caresses your cleavage . I think I love you .     xyz smile , hair and height . You look warm and positive How are you today ?     Toilet flushing . Light flashing .     You don’t look up . Instead your hair continues seesawing back and forth . The movement of your fingers changed . Now your thumb rhythmically wipes the screen from right to left , right to left , right to left . Then left to right . You are incredibly fast .     I observe you for a while . The room is empty . Besides both of us all the other guests have left already . The waiter polishes wine glasses with a holey kitchen towel .      I position myself closer to you . This will crop away my unattractive parts from your field of vision . My way too skinny legs . My bad taste . I twist my head a bit to create the right incidental angle for the light in this room to sculpt my face . I come intensely close .     Hey , thought I’d try a question to break the ice . If you could travel to any country in the world , where would you go and why ?     You don’t look up . No response . No reaction on my inept advance . I start to panic . I like animals , but unfortunately animals are not allowed in the Panamerican Kitchen . You could otherwise see kittens balancing on my head , dogs licking my face , or me cuddling an ostrich . I know that everyone else is doing that . It’s cute . You might have liked it .     I open my business case . I am a journalist . You can see me on Aljazeera . I have a degree from Cambridge . Here , I am also on youtube . I will send you the links later . I want to meet you .     I close it again . You seem to be absorbed in finger movement .      laters , James Michael (American) xoxoxo Jason     I leave the Panamerican Kitchen .";
				var words1 = str1.split(" "); 
				var amountWords = words1.length;
				var text = "";
				var index = 0;
				var delay = 300; 
				
				
				console.log(words1.indexOf("xyz")); // find index of particular word
				/* Indices Timestamp
				[11:46:20 pm]: Stamp 1: 161; Nice
				[11:47:33 pm]: Stamp 2: 166;  Intriguing
				[11:41:06 pm]: Stamp 3: 227;  Great
				[11:58:20 pm]: Stamp 4: 433; Hey
				[11:42:08 pm]: Stamp 5: 602; laters
				[11:55:44 pm]: Stamp 6: 605; Michael
				[11:45:39 pm]: Stamp 7: 607; xoxoxo */

<<<<<<< HEAD
					var statsEnabled = true;
					var container, stats, loader;
					var camera, camera2, scene, scene2, renderer;
					var mesh, newMesh, newMesh2, mesh2, materialShader, materialShader2;
					 
					var material;
					
					var spotLight;
=======
				// LOADING SCREEN 

				var RESOURCES_LOADED = false;
				var x = document.getElementById("load");
				load.style.display = "none";
>>>>>>> AnanazFrutti/master

				
				// GLOBAL VARIABLES VISUALS

				var statsEnabled = true;
				var container, stats, loader;
				var camera, camera2, scene, scene2, renderer;
				var mesh, newMesh, newMesh2, newMesh3, newMesh4, materialShader;
				var material;					
				
				var raycaster;
				var mouseRaycaster;

				var mouseX = 0;
				var mouseY = 0;

				var targetX = 0;
				var targetY = 0;

				var windowHalfX = window.innerWidth / 2;
				var windowHalfY = window.innerHeight / 2;

				var clock = new THREE.Clock();
				var manager = new THREE.LoadingManager();
				var textureCube;

				var cameraDistanceX = 2000;
				var cameraDistanceZ = 2000;

				var currentMousePos = { x: -1, y: -1 };

				var objects = [];

				var preload = false;

				///////////////////////////////////////////////////////////////	
				// TEXT ///////////////////////////////////////////////////////

				function myFunc() {

					setTimeout(function() { 

						var myVar = setInterval(myTimer, delay);

						function myTimer() {
							if (index == words1.length) {
								// Stoppt das Abspielen nach dem letzten Index
					    		clearInterval(myVar);
					    	}
					    	else {
					    		myVar ++;

					    		// [11:46:20 pm]: Stamp 1: 161; Nice
					    		if (index == 169)	{
					    			document.getElementById("Timestamp1").innerHTML = "[11:46:20 pm]:";

					    		}

					    		if (index == 172) {
					    			document.getElementById("Timestamp1").remove();

					    		}

					    		// [11:47:33 pm]: Stamp 2: 166;  Intriguing
					    		if (index == 174 )	{
					    			document.getElementById("Timestamp2").innerHTML = "[11:47:33 pm]:";
					    		}

					    		if (index == 206) {
					    			document.getElementById("Timestamp2").remove();

					    		}

					    		// [11:41:06 pm]: Stamp 3: 227;  Great
					    		if (index == 244)	{
					    			document.getElementById("Timestamp3").innerHTML = "[11:41:06 pm]:";
					    		}

					    		if (index == 261) {
					    			document.getElementById("Timestamp3").remove();

					    		}

					    		// [11:58:20 pm]: Stamp 4: 433; Hey
					    		if (index == 432)	{
					    			document.getElementById("Timestamp4").innerHTML = "[11:58:20 pm]:";
					    		}

					    		if (index == 462) {
					    			document.getElementById("Timestamp4").remove();

					    		}

					    		// [11:42:08 pm]: Stamp 6: 602; laters
					    		if (index == 613)	{
					    			document.getElementById("Timestamp5").innerHTML = "[11:42:08 pm]:";
					    		}

					    		if (index == 617) {
					    			document.getElementById("Timestamp5").remove();

					    		}

					    		// [11:55:44 pm]: Stamp 6: 605; Michael
					    		if (index == 617)	{
					    			document.getElementById("Timestamp6").innerHTML = "[11:55:44 pm]:";
					    		}

					    		if (index == 619) {
					    			document.getElementById("Timestamp6").remove();

					    		}

					    		// [11:45:39 pm]: Stamp 7: 607; xoxoxo
					    		if (index == 619)	{
					    			document.getElementById("Timestamp7").innerHTML = "[11:45:39 pm]:";
					    		}

					    		if (index == 621) {
					    			document.getElementById("Timestamp7").remove();

					    		}

					    		document.getElementById("NoNoNoYesNoText").innerHTML = words1[index];
								//console.log(index);
					    		index ++;	

					    	}   		    	
				 		};	

				 	 }, 10000); 
				}

				///////////////////////////////////////////////////////////////	
				// THREE.JS ///////////////////////////////////////////////////

				init();
				animate();

				function init() {

					//notwendig?
					container = document.createElement( 'div' );
					document.body.appendChild( container );

					// SCENE

					camera = new THREE.PerspectiveCamera( 27, window.innerWidth / window.innerHeight, 1, 100000 );
					camera.position.z = 2000;

					// BACKGROUND & MATERIALS

					var textureLoader = new THREE.TextureLoader(manager);
					var mapHeight = new THREE.TextureLoader(manager).load( "models/Tongue_Bump.jpg" );
					var displacementMap = textureLoader.load( "models/Tongue_Bump.jpg" );
				
					material = new THREE.MeshPhongMaterial( {							
						specular: 0xffffff,
						shininess: 100,
						map: new THREE.TextureLoader(manager).load('models/Tongue_Diffuse.jpg'),
						bumpMap: mapHeight,
						bumpScale: 10,
					} );

					var material2 = material;

					textureCube = new THREE.CubeTextureLoader(manager)
						.setPath( 'textures/')
						.load( [ 'posx.jpg', 'negx.jpg', 'posy.jpg', 'negy.jpg', 'posz.jpg', 'negz.jpg' ] );

					scene = new THREE.Scene();
					scene2 = new THREE.Scene();

					// LOADING SCREEN

					/*loadingScreen.box.position.set(0,0,5);
					loadingScreen.camera.lookAt(loadingScreen.box.position);
					loadingScreen.scene.add(loadingScreen.box);*/

					// LIGHTS SCENE 1

					scene.add( new THREE.HemisphereLight( 0xb33939, 0xfe7cff ) );
					var ambientlight = new THREE.AmbientLight( 0x404040 ); 
					scene.add( ambientlight );

					spotLight = new THREE.SpotLight( 0x7348ff, 2 );
					spotLight.position.set( 0.5, 0, 1 );
					spotLight.position.multiplyScalar( 700 );
					scene.add( spotLight );

					spotLight2 = new THREE.SpotLight( 0x7348ff, 2 );
					spotLight2.position.set( -0.5, 0, -1 );
					spotLight2.position.multiplyScalar( 700 );
					scene.add( spotLight2 );

					spotLight3 = new THREE.SpotLight( 0x6945ef, 2 );
					spotLight3.position.set( -0.5, 0.3, 0.5 );
					spotLight3.position.multiplyScalar( 5000 );
					scene.add( spotLight3 ); 	

					spotLight.castShadow = false;

					spotLight.shadow.mapSize.width = 2048;
					spotLight.shadow.mapSize.height = 2048;

					spotLight.shadow.camera.near 	 = 200;
					spotLight.shadow.camera.far = 1500;

					spotLight.shadow.camera.fov = 40;

					spotLight.shadow.bias = -0.005;

					// LIGHTS SCENE 2

					spotLight3 = new THREE.SpotLight( 0x7348ff, 0.5 );
					spotLight.position.set( 0.2, 0, 1 );
					spotLight.position.multiplyScalar( 700 );
					scene2.add( spotLight );

					spotLight4 = new THREE.SpotLight( 0xff2668, 0.5 );
					spotLight2.position.set( -0.2, 0, -1 );
					spotLight2.position.multiplyScalar( 700 );
					scene2.add( spotLight2 );

					spotLight5 = new THREE.SpotLight( 0xb4ff00, 0.5 );
					spotLight3.position.set( -0.5, 0.3, 0.5 );
					spotLight3.position.multiplyScalar( 300 );
					scene2.add( spotLight3 );

					spotLight3.castShadow = false;

					spotLight3.shadow.mapSize.width = 2048;
					spotLight3.shadow.mapSize.height = 2048;

					spotLight3.shadow.camera.near 	 = 200;
					spotLight3.shadow.camera.far = 1500;

					spotLight3.shadow.camera.fov = 40;

					spotLight3.shadow.bias = -0.005;

					spotLight4.castShadow = false;

					spotLight4.shadow.mapSize.width = 2048;
					spotLight4.shadow.mapSize.height = 2048;

<<<<<<< HEAD
					function getRandomInt(min, max) {
    				
    				return Math.floor(Math.random() * (max - min + 1)) + min;
					
					}

					////// find right tongue to milk
=======
					spotLight4.shadow.camera.near 	 = 200;
					spotLight4.shadow.camera.far = 1500;
>>>>>>> AnanazFrutti/master

					spotLight4.shadow.camera.fov = 40;

<<<<<<< HEAD
						mouse.x = ( event.clientX / renderer.domElement.clientWidth ) * 2 - 1;
						mouse.y = - ( event.clientY / renderer.domElement.clientHeight ) * 2 + 1;
=======
					spotLight4.shadow.bias = -0.005;
		
					// GEOMETRY

					loader = new THREE.JSONLoader(manager);
					loader.load( "models/tongue_new.json", function( geometry ) {
>>>>>>> AnanazFrutti/master

						mesh = new THREE.Mesh( geometry, material );
						mesh.id = 5;

						objects.push( mesh );

<<<<<<< HEAD
						var snd = [soundFive,soundSix,soundSeven,soundEight]; // array of soundfiles defined starting on line 160

						if(intersects.length > 0){
							x = getRandomInt(0,4);
							snd[x].play();
						}
						}
=======
						mesh.position.y = - 50;
						mesh.scale.setScalar( 200 );

						mesh.castShadow = true;
						mesh.receiveShadow = true;
														
					} );

					// RAYCASTER

					raycaster = new THREE.Raycaster();
					mouseRaycaster = new THREE.Vector2();
>>>>>>> AnanazFrutti/master

					// RENDERER

					renderer = new THREE.WebGLRenderer( { antialias: false } );
					renderer.setClearColor( 0xffffff );
					renderer.setPixelRatio( window.devicePixelRatio );
					renderer.setSize( window.innerWidth, window.innerHeight );
					renderer.setFaceCulling( THREE.CullFaceNone );

					renderer.shadowMap.enabled = true;
					renderer.shadowMap.renderReverseSided = true;

					container.appendChild( renderer.domElement );

					renderer.gammaInput = true;
					renderer.gammaOutput = true;

					//

					/*if ( statsEnabled ) {
						stats = new Stats();
						container.appendChild( stats.dom );
					}*/

					// EVENTS

					document.addEventListener( 'mousemove', onDocumentMouseMove, false );
					window.addEventListener( 'resize', onWindowResize, false );
					document.addEventListener( 'mousedown', onDocumentMouseDown, false );
					document.addEventListener( 'touchstart', onDocumentTouchStart, false );

					
				}

				///////////////////////////////////////////////////////////////

				function onDocumentTouchStart( event ) {

					event.preventDefault();

					event.clientX = event.touches[0].clientX;
					event.clientY = event.touches[0].clientY;
					onDocumentMouseDown( event );

				}

				// mouse over tongue mesh

				function onDocumentMouseDown( event ) {

					mouse.x = ( event.clientX / renderer.domElement.clientWidth ) * 2 - 1;
					mouse.y = - ( event.clientY / renderer.domElement.clientHeight ) * 2 + 1;

					raycaster.setFromCamera( mouse, camera );

					var intersects = raycaster.intersectObjects( objects );

					if ( intersects.length > 0 ) { // 0. STelle im Array und mit der id "5" hab ich vergeben


					}

				}

				///////////////////////////////////////////////////////////////

				function shader() {

					material.onBeforeCompile = function ( shader ) {

						shader.uniforms.time = { value: 0 };

<<<<<<< HEAD



					///////////////////////////////////////////////////////////////
=======
						shader.vertexShader = 'uniform float time;\n' + shader.vertexShader;
						shader.vertexShader = shader.vertexShader.replace(
							'#include <begin_vertex>',
							[
								'float theta = sin( time + position.y ) / 2.0;',
								'float c = cos( theta );',
								'float s = sin( theta );',
								'mat3 m = mat3( c, 0, s, 0, 1, 0, -s, 0, c );',
								'vec3 transformed = vec3( position ) * m;',
								'vNormal = vNormal * m;'
							].join( '\n' )
						);
>>>>>>> AnanazFrutti/master

						materialShader = shader;


<<<<<<< HEAD
							render2();

						} else {
							render();
						}
						if ( statsEnabled ) stats.update();
=======
					};
				}
>>>>>>> AnanazFrutti/master

				function shader2() {

					material.onBeforeCompile = function ( shader ) {

<<<<<<< HEAD
					function update() {

							var delta = clock.getDelta();
=======
						shader.uniforms.time = { value: 1 };
>>>>>>> AnanazFrutti/master

						shader.vertexShader = 'uniform float time;\n' + shader.vertexShader;
						shader.vertexShader = shader.vertexShader.replace(
							'#include <begin_vertex>',
							[
								'float theta = sin( time + position.x ) / 2.0;',
								'float c = 1.0;',
								'float s = sin( time + position.y );',
								'mat3 m = mat3( c, -2, s, 2, 1, 0, -s, 0, c );',
								'vec3 transformed = vec3( position ) * m;',
								'vNormal = vNormal * m;'
							].join( '\n' )
						);

						materialShader = shader;

					};
				}

				///////////////////////////////////////////////////////////////

				function onWindowResize( event ) {

					windowHalfX = window.innerWidth / 2;
					windowHalfY = window.innerHeight / 2;

					renderer.setSize( window.innerWidth, window.innerHeight );

					camera.aspect = window.innerWidth / window.innerHeight;
					camera.updateProjectionMatrix();

				}

				///////////////////////////////////////////////////////////////

				function onDocumentMouseMove( event ) {

					mouseX = ( event.clientX - windowHalfX );
					mouseY = ( event.clientY - windowHalfY );

				}


				///////////////////////////////////////////////////////////////


				function animate() {

<<<<<<< HEAD
					function render() {
					soundOne.setPlaybackRate( 0.2+((mouseX*0.000015)+(mouseY*0.000015)));
					soundTwo.setPlaybackRate(0.2+((mouseX*-0.000015)+(mouseY*0.000015)));


=======
					if ( RESOURCES_LOADED == false){
						requestAnimationFrame(animate);
						load.style.display = "block";
>>>>>>> AnanazFrutti/master

						//renderer.setClearColor (0xff0000, 1);
						
						return;
					}
					else{
						load.style.display = "none";
					}

					requestAnimationFrame( animate );
					if ( index > 330 ){

						cameraDistanceX = 2000;
						cameraDistanceZ = 2000;

						shader();
						render();

<<<<<<< HEAD

						if ( mesh ) {
=======
						
					} else {
>>>>>>> AnanazFrutti/master

						cameraDistanceX = 2000;
						cameraDistanceZ = 2000;

						shader2();
						render2();

					}
					
					//if ( statsEnabled ) stats.update();

					update();

				}

				function update() {
		
						var delta = clock.getDelta();

					}

				///////////////////////////////////////////////////////////////

				manager.onLoad = function ( ) {

					console.log( 'Loading complete!');

					myFunc();

					// SCENE 1
					mesh.position.y = - 50;
					mesh.scale.setScalar( 200 );

					newMesh = mesh.clone();
					newMesh.position.y = + 50;

					scene.background = textureCube;

					scene.add( mesh );
					scene.add( newMesh ); 

					// SCENE 2
					newMesh2 = mesh.clone();
					newMesh2.position.y = - 50;
					newMesh2.scale.setScalar( 200 );
					objects.push( newMesh2 );

					newMesh3 = mesh.clone();
					newMesh3.position.y = + 50;

					newMesh4 = mesh.clone(); 
					newMesh4.rotation.x = + 100; 

					scene2.background = new THREE.Color( 0x000000 );
	
					scene2.add( newMesh2 );
					scene2.add( newMesh3 );
					scene2.add( newMesh4 );

					RESOURCES_LOADED = true;

				};

				manager.onProgress = function ( item, loaded, total ) {      

				    console.log(item, loaded, total);


				   

				};


				///////////////////////////////////////////////////////////////

				function render() {

					soundOne.setPlaybackRate( 0.2+((mouseX*0.000015)+(mouseY*0.000015)));
					soundTwo.setPlaybackRate(0.2+((mouseX*-0.000015)+(mouseY*0.000015)));

					var timer = -0.0002 * Date.now();

					camera.position.x = cameraDistanceX * Math.cos( timer );
					camera.position.y += ( - mouseY - camera.position.y ) * .05;
					camera.position.z = cameraDistanceX * Math.sin( timer );

					camera.lookAt( scene.position );

					targetX = mouseX * .001; 
					targetY = mouseY * .001; 

					if ( mesh ) {

						mesh.rotation.y += 0.05 * ( targetX - mesh.rotation.y + 5); // beginning rotation
						mesh.rotation.x += 0.05 * ( targetY - mesh.rotation.x + 1);

					}	


					if ( materialShader ) {

						materialShader.uniforms.time.value = performance.now() / 1000;

					}

					renderer.render( scene, camera );

				}


				function render2() {

					soundOne.setPlaybackRate( 0.2+((mouseX*0.000015)+(mouseY*0.000015)));
					soundTwo.setPlaybackRate(0.2+((mouseX*-0.000015)+(mouseY*0.000015)));

					var timer = -0.0002 * Date.now();

					camera.position.x = cameraDistanceX * Math.cos( timer );
					camera.position.y += ( - mouseY - camera.position.y ) * .05;
					camera.position.z = cameraDistanceX * Math.sin( timer );

					camera.lookAt( scene2.position );

					if ( newMesh2 ) {

						newMesh2.rotation.y += 0.05 * ( targetX - newMesh2.rotation.y + 6); // beginning rotation
						newMesh2.rotation.x += 0.05 * ( targetY - newMesh2.rotation.x + 1);

					}

					if ( newMesh3 ) {

						newMesh3.rotation.y += 0.05 * ( targetX - newMesh3.rotation.y + 10); // beginning rotation
						newMesh3.rotation.x += 0.05 * ( targetY - newMesh3.rotation.x + 7);

					}

					if ( materialShader ) {

						materialShader.uniforms.time.value = performance.now() / 3000;

					}

					spotLight4.position.set( currentMousePos.x, currentMousePos.y, 10 );

					renderer.render( scene2, camera );

				}

			</script>
		</div>

		<div id="Timestamps">
			<p id="Timestamp1"></p>
			<p id="Timestamp2"></p>
			<p id="Timestamp3"></p>
			<p id="Timestamp4"></p>
			<p id="Timestamp5"></p>
			<p id="Timestamp6"></p>
			<p id="Timestamp7"></p>
		</div>

		<div id = "runtext">
			<div id ="Text">
				<p id="NoNoNoYesNoText"></p>
			</div>		
		</div> 

	</body>
</html>